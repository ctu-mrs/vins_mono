name: vio_simulation_rosbag
root: ./
startup_window: status
pre_window: export UAV_NAME=uav1; export RUN_TYPE=simulation; export UAV_TYPE=f330; export WORLD_NAME=simulation; export SENSORS="garmin_down"
windows:
  - roscore:
      layout: tiled
      panes:
        - roscore
  - status:
      layout: tiled
      panes:
        -  'history -s rosbag play --pause ~/bag_files/vio/simulation/fisheye_cam_40_hz.bag'
  - VINS:
      layout: tiled
      panes:
        -  waitForRos; roslaunch vins_estimator simulation_fisheye.launch
  - VINS help:
      layout: tiled
      panes:
        -  waitForRos; roslaunch tf_publisher tf_publisher.launch
        -  waitForRos; roslaunch camera_republisher camera_republisher.launch
        -  waitForRos; roslaunch vins_republisher vins_republisher_simulation.launch
        -  waitForRos; roslaunch flame_ros flame_nodelet.launch
        -  waitForRos; rostopic hz /uav1/vio/camera/image_raw -w 200
        -  waitForRos; roslaunch image_undistort simulation_fisheye.launch   

  - rviz:
      layout: tiled
      panes:
        - waitForRos; rviz -d ./rviz.rviz
